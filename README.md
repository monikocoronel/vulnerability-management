# vulnerability-management

<p align="center">
<img src="https://i.imgur.com/7eGAz0E.png" 
</p>

<h1>Nessus - Vulnerability Management</h1>
This tutorial outlines installing and configuring Nessus Essentials to perform credentialed vulnerability scans against Windows 10 Hosts.<br />

<h2>Environments and Technologies Used</h2>

- Microsoft Azure (Virtual Machines/Compute)
- Remote Desktop
- Windows 10

<h2>Operating Systems Used </h2>

- Windows 10</b> (21H2)

<h2>Ensure connectivity with virtual machine</h2>
<p>
<img src="https://i.imgur.com/9KMnCym.png" height="80%" width="80%" 
</p>

<p>
<img src="https://i.imgur.com/AiN8SIs.png" height="80%" width="80%" 
</p>

- Get IP address from your VM by typing “ifconfig"

Ping the VM’s IP address from your local computer to make sure you can reach it.  You’ll see it’s timed out, so you’ll need to disable the firewall on the virtual machine.

<p>
<img src="https://i.imgur.com/eywRBfB.png" height="80%" width="80%" 
</p>

- Go to wf.msc and open firewall>Windows Defender firewall properties> turn off the firewall state for the “Domain Profile”, “ Private profile”, and “ Public profile”. The ping will then go through on the local computer. 

<h2>Create new scan in Nessus (with no credentials)</h2>

<p>
<img src="https://i.imgur.com/9TVegtP.png" height="80%" width="80%" 
</p>
<p>

Create a new scan and put the VM’s IP address inside the target to do a basic network port scan. Save and then run.

<p>
<img src="https://i.imgur.com/qnpLT7A.png" height="80%" width="80%" 
</p>

You can see the results of the initial scan: 1 medium and 31 info

<h2>Configure VM for credentialed scans</h2>

<p>
<img src="https://i.imgur.com/8xGI7sS.png" height="80%" width="80%" 
</p>

  
Go to services.msc> enable remote registry which allows scanner to connect to computer’s registry and look for insecure configurations</p>
<br />

<p>
<img src="https://i.imgur.com/29qN031.png" height="80%" width="80%" 
</p>
  
Go to Advanced sharing settings and ensure  file and printer sharing is enabled

<p>
<img src="https://i.imgur.com/k0JOoUu.png" height="80%" width="80%" 
</p>  

Go to user account control and adjust settings to never notify
  
<p>
<img src="https://i.imgur.com/QT95YzD.png" height="80%" width="80%" 
</p> 

  -Open registry and add a key that’s supposed to further disable user account control for the remote account that we’re going to use to connect to the computer during the scan      
- Go to start and type registry editor. Go to local machine> software>Microsoft> Windows> current version> policies> system
- Crate a Dword called localaccounttokenfilter policy and set value to 1
-Restart virtual machine
  
  <h2>First scan with credentials</h2>
  
 <p>
<img src="https://i.imgur.com/u4gvnLc.png" height="80%" width="80%" 
</p> 
  
  Go to Nessus essentials and check box next to your scan name> more> configure
 - Add Windows credentials
  - Run the scan again and compare the results with the first scan
- Should see more results since we enabled credentialed scanning
  
 <p>
<img src="https://i.imgur.com/3Gk4njK.png" height="80%" width="80%" 
</p> 
    
 - 7 critical, 38 high, 4 medium, 149 info 
   
<h2>First scan with credentials</h2>

<p>
<img src="https://i.imgur.com/Dtxpcl3.png" height="80%" width="80%" 
</p> 
  
 -Installed an old version of firefox and ran scan to see all the additional vulnerabilities
  -68 critical, 102 high, 19 medium, 158 info
 
  
 <p>
<img src="https://i.imgur.com/Z7qoT5R.png" height="80%" width="80%" 
</p> 
   
 -you can either update firefox or completely uninstall it to remediate some of the vulnerabilities
- remediate vulnerabilities by uninstalling firefox and by running windows updates until there’s no more updates. 

<p>
<img src="https://i.imgur.com/2yjdZs7.png" height="80%" width="80%" 
</p>

- ran scan again and can see remediations have been done with a lot less critical vulnerabilities
